<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="pageTitle">商品詳情 - 柑心果園</title>
    <meta name="description" id="pageDescription" content="柑心果園優質農產品，產地直送，新鮮安心。">
    
    <!-- 只載入必要的樣式 -->
    <link rel="stylesheet" href="./css/main.css?v=20251103181">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- 商品詳情頁獨立樣式 -->
    <link rel="stylesheet" href="./css/pages/product-detail-独立.css?v=20251103">
</head>
<body>
    <div id="header-container"></div>
    <div id="mobile-menu-container"></div>

    <main id="main-content">
        <!-- 麵包屑 -->
        <section class="breadcrumb-section">
            <nav class="breadcrumb">
                <a href="index.html"><i class="fas fa-home"></i> 首頁</a>
                <span class="separator">/</span>
                <a href="products.html">全部商品</a>
                <span class="separator">/</span>
                <span class="current" id="breadcrumbProductName">載入中...</span>
            </nav>
        </section>

        <!-- 商品詳情內容 -->
        <section class="product-section">
            <div class="product-container">
                <div class="product-layout">
                    <!-- 左側圖片 -->
                    <div class="product-gallery">
                        <div class="main-image">
                            <img src="" alt="" id="mainImage">
                        </div>
                        <div class="thumbnail-list" id="thumbnailList">
                            <!-- 縮圖由JS生成 -->
                        </div>
                    </div>

                    <!-- 右側商品資訊 -->
                    <div class="product-info">
                        <span class="product-badge" id="productBadge">預購</span>
                        <h1 class="product-name" id="productName">載入中...</h1>
                        <p class="product-desc" id="productDesc"></p>
                        
                        <div class="product-meta">
                            <div class="sales-count">
                                <i class="fas fa-fire"></i>
                                <span>已售 <strong id="salesCount">0</strong> 件</span>
                            </div>
                            <div class="shipping-method">
                                <i class="fas fa-truck"></i>
                                <span id="shippingMethod">常溫宅配</span>
                            </div>
                        </div>

                        <div class="price-section">
                            <div class="price-label">售價</div>
                            <div class="price-value">
                                <span class="price-currency">NT$</span>
                                <span class="price-amount" id="displayPrice">0</span>
                            </div>
                        </div>

                        <!-- 規格選擇 -->
                        <div class="spec-section">
                            <div class="spec-label">選擇規格</div>
                            <div class="spec-options" id="specOptions">
                                <!-- 規格按鈕由JS生成 -->
                            </div>
                            <div class="spec-info" id="specInfo">
                                <!-- 規格說明由JS生成 -->
                            </div>
                        </div>

                        <!-- 數量選擇 -->
                        <div class="quantity-section">
                            <div class="quantity-label">數量</div>
                            <div class="quantity-controls">
                                <button class="qty-btn" onclick="changeQuantity(-1)">
                                    <i class="fas fa-minus"></i>
                                </button>
                                <input type="number" class="qty-input" id="quantity" value="1" min="1" readonly>
                                <button class="qty-btn" onclick="changeQuantity(1)">
                                    <i class="fas fa-plus"></i>
                                </button>
                            </div>
                        </div>

                        <!-- 購買按鈕 -->
                        <div class="action-buttons">
                            <button class="btn btn-cart" onclick="addToCart()">
                                <i class="fas fa-shopping-cart"></i>
                                加入購物車
                            </button>
                            <button class="btn btn-buy" onclick="buyNow()">
                                <i class="fas fa-bolt"></i>
                                立即購買
                            </button>
                        </div>

                        <!-- 商品特點 -->
                        <div class="features">
                            <div class="feature-item">
                                <i class="fas fa-truck"></i>
                                <span>全台配送</span>
                            </div>
                            <div class="feature-item">
                                <i class="fas fa-leaf"></i>
                                <span>產地直送</span>
                            </div>
                            <div class="feature-item">
                                <i class="fas fa-shield-alt"></i>
                                <span>品質保證</span>
                            </div>
                            <div class="feature-item">
                                <i class="fas fa-undo"></i>
                                <span>7天鑑賞</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 商品詳細說明 -->
                <div class="product-details">
                    <div class="detail-tabs">
                        <button class="tab-btn active" onclick="switchTab(0)">商品說明</button>
                        <button class="tab-btn" onclick="switchTab(1)">配送方式</button>
                        <button class="tab-btn" onclick="switchTab(2)">退換貨政策</button>
                    </div>

                    <div class="tab-content active" id="tab0">
                        <div class="detail-images" id="detailImages">
                            <!-- 商品詳細圖片由JS生成 -->
                        </div>
                    </div>

                    <div class="tab-content" id="tab1">
                        <div class="shipping-info">
                            <h3>配送說明</h3>
                            <ul>
                                <li><strong>常溫宅配</strong>：適用於椪柑、茂谷柑等常溫水果</li>
                                <li><strong>冷藏宅配</strong>：適用於需要冷藏保鮮的商品</li>
                                <li><strong>冷凍宅配</strong>：適用於冷凍菱角仁、芋角等冷凍商品</li>
                                <li><strong>配送時間</strong>：訂單確認後 3-5 個工作天送達</li>
                                <li><strong>運費</strong>：NT$ 100（滿 $1000 免運費）</li>
                            </ul>
                        </div>
                    </div>

                    <div class="tab-content" id="tab2">
                        <div class="return-policy">
                            <h3>退換貨政策</h3>
                            <ul>
                                <li>本商品享有 <strong>7天鑑賞期</strong>（非試用期）</li>
                                <li>收到商品後如有問題，請立即拍照並聯繫客服</li>
                                <li>退換貨商品須保持完整包裝，不影響二次銷售</li>
                                <li>生鮮食品如有瑕疵或變質，提供全額退款或補寄</li>
                                <li>客服 LINE ID：@ganxinorchard</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- 推薦商品 -->
                <div class="recommend-section">
                    <h2 class="section-title">您可能也喜歡</h2>
                    <div class="recommend-grid" id="recommendProducts">
                        <!-- 推薦商品由JS生成 -->
                    </div>
                </div>
            </div>
        </section>
    </main>

    <div id="footer-container"></div>

    <!-- 核心 JS -->
    <script src="./js/template-loader.js"></script>
    <script src="./js/mobile-menu-simple.js"></script>
    <script src="./js/dropdown-menu.js"></script>
    
    <!-- 商品數據 -->
    <script src="./js/products.js?v=20251103"></script>
    
    <!-- 商品詳情頁獨立JS -->
    <script src="./js/pages/product-detail-独立.js?v=20251103"></script>
</body>
</html>
