# 購物車與結帳流程升級計劃

## 更新日期：2025-10-08

## 主要更新項目

### 1. 購物車側邊欄改進
- [x] 在購物車標題旁加入商標Logo
- [ ] 優化手機版排版，避免文字與圖片重疊
- [ ] 調整商品卡片在手機上的顯示方式

### 2. 結帳流程優化（3步驟）

#### 步驟1：購物清單
- [ ] 折扣碼區塊（移到最上方）
- [ ] 訂單摘要（顯示完整金額計算）
  - 商品總金額
  - 折扣優惠（如有）
  - 運費
  - 訂單總計
- [ ] 配送方式選擇
  - 宅配到府（運費NT$180，滿$1800免運）
  - 門市自取（免運費）
- [ ] 下方新增推薦商品區塊

#### 步驟2：寄送付款方式
- [ ] 購買人資料
  - 姓名 *
  - Email *
  - 手機 *
  - 地址 *（宅配時必填）
- [ ] 收件人資料
  - 同購買人資料選項
  - 姓名 *
  - Email *
  - 手機 *
  - 地址 *（宅配時必填）
- [ ] 付款方式
  - LINE Pay
  - 銀行轉帳
  - 自取現金
- [ ] 訂單備註
  - 備註內容（500字）
  - 同意退貨退款須知

#### 步驟3：完成訂單
- [ ] 顯示完整訂單確認資訊
- [ ] 確認送出訂單按鈕

### 3. 步驟指示器
- [ ] 自動根據當前步驟變換對應數字顏色
- [ ] 已完成步驟顯示為綠色勾選
- [ ] 當前步驟高亮顯示

### 4. 金額計算邏輯
- [ ] 商品總金額計算
- [ ] 折扣碼套用後金額變化
- [ ] 配送方式影響運費計算
  - 宅配：未滿$1800收費$180
  - 自取：運費為0
- [ ] 訂單總計 = 商品總金額 - 折扣 + 運費

### 5. LINE Pay 整合
- [ ] 選擇LINE Pay時跳轉到linepay.html
- [ ] 付款成功後觸發GAS記錄
- [ ] 可返回購物車或首頁

### 6. 推薦商品功能
- [ ] 在步驟1下方顯示推薦商品
- [ ] 隨機推薦3-4個商品
- [ ] 可直接加入購物車

## 技術實施細節

### 檔案修改清單
1. `cart.html` - 購物車頁面
2. `checkout.html` - 結帳頁面
3. `js/cart.js` - 購物車邏輯
4. `js/checkout.js` - 結帳流程邏輯
5. `css/style.css` - 樣式更新
6. 所有包含購物車側邊欄的HTML檔案（加入Logo）

### GAS 整合
- 訂單資料格式
- API端點設定
- 成功/失敗處理

## 測試檢查清單
- [ ] 桌面版購物車顯示正常
- [ ] 手機版購物車排版正確
- [ ] 折扣碼功能正常
- [ ] 配送方式切換運費計算正確
- [ ] 表單驗證功能正常
- [ ] LINE Pay跳轉正常
- [ ] 訂單提交成功
- [ ] GAS記錄正確
