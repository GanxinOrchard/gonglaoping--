# 網站全面修復執行計畫 🔧

**創建時間：** 2025-11-03 18:12  
**狀態：** 🔄 執行中  
**目標：** 解決所有已知問題，重新設計電商頁面

---

## 🚨 用戶反映的問題

### 1. Logo 點擊無法回到首頁 ❌
```
問題：左上角 logo 點進去沒辦法回到首頁
狀態：✅ 已修復
解決：header.html 的 logo 連結改為 ./index.html
```

### 2. 版本號不統一 ❌
```
問題：所有版本號都是最新的嗎？
狀態：🔄 檢查中
需要：檢查所有 HTML 檔案的版本號
```

### 3. 商品詳情頁設計不符合電商風格 ❌
```
問題：商品詳請設計跟之前不太一樣，希望符合電商形式
狀態：📋 待重新設計
需要：參考主流電商平台設計
```

### 4. 購物車頁面存在 Bug ❌
```
問題：購物車頁面如果存在bug無法正確顯示商品
狀態：🔄 檢查中
需要：全面測試和可能的重新設計
```

### 5. 網站存在多個問題 ❌
```
問題：整個網站都存在很多問題
狀態：🔄 系統檢查中
需要：全面檢查並修復
```

---

## 📋 完整修復計畫

### 階段 1：緊急修復（立即執行）✅

#### 1.1 Logo 連結修復 ✅
```
檔案：templates/header.html
修改：href="index.html" → href="./index.html"
狀態：✅ 已完成
```

#### 1.2 版本號統一檢查
```
目標：確保所有頁面使用統一版本號
版本號：v=20251103181（新版本）
需要檢查的檔案：
  - index.html
  - products.html
  - product-detail.html
  - cart.html
  - checkout.html
  - about.html
  - 所有季節頁面
  - 所有指南頁面
  - 所有政策頁面
```

---

### 階段 2：購物車系統完整重構（今天完成）

#### 2.1 購物車頁面 (cart.html) - 電商風格重新設計

**設計參考：**
- PChome 24h
- momo 購物網
- 蝦皮購物

**新設計特點：**
```
✅ 清晰的商品列表
✅ 大尺寸商品圖片
✅ 明確的價格顯示
✅ 直觀的數量調整
✅ 即時計算小計和總計
✅ 優惠券輸入區
✅ 配送方式選擇
✅ 明顯的結帳按鈕
✅ 繼續購物連結
✅ 空購物車提示
```

**佈局結構：**
```
┌─────────────────────────────────────┐
│         Header & Navigation         │
├─────────────────────────────────────┤
│         麵包屑導航                   │
├─────────────────────────────────────┤
│                                     │
│  [購物車商品列表]    [結帳摘要]     │
│  ┌───────────────┐  ┌──────────┐   │
│  │ 商品1         │  │ 小計     │   │
│  │ [圖][資訊]   │  │ 運費     │   │
│  │ [數量][價格] │  │ 折扣     │   │
│  ├───────────────┤  │ ────────  │   │
│  │ 商品2         │  │ 總計     │   │
│  │ [圖][資訊]   │  │          │   │
│  │ [數量][價格] │  │ [結帳]   │   │
│  └───────────────┘  └──────────┘   │
│                                     │
│  [優惠券輸入]                       │
│  [推薦商品]                         │
│                                     │
├─────────────────────────────────────┤
│              Footer                 │
└─────────────────────────────────────┘
```

#### 2.2 購物車 JS 功能重構

**cart.js 完整檢查項目：**
```
✅ localStorage key 統一（ganxin_cart）
✅ 資料結構正確
✅ 加入商品功能
✅ 更新數量功能
✅ 刪除商品功能
✅ 價格計算正確
✅ 運費計算
✅ 折扣碼功能
✅ 購物車計數器更新
✅ 空購物車處理
```

---

### 階段 3：商品頁面電商化重新設計（今天完成）

#### 3.1 商品列表頁 (products.html) - 電商風格

**設計改善：**
```
✅ 更大的商品圖片
✅ 清晰的價格標示
✅ 庫存狀態顯示
✅ 快速加入購物車
✅ 商品評分星級
✅ 熱銷標籤
✅ 促銷標籤
✅ Hover 效果增強
✅ 更好的網格佈局
✅ 分頁功能
```

**卡片設計：**
```
┌─────────────────┐
│                 │
│   [商品圖片]    │
│                 │
├─────────────────┤
│ 商品名稱         │
│ ⭐⭐⭐⭐⭐ (120)  │
│ NT$ 1,200       │
│ [加入購物車]     │
└─────────────────┘
```

#### 3.2 商品詳情頁 (product-detail.html) - 電商風格

**主要區塊重新設計：**
```
1. 商品主資訊區（左右分欄）
   ├── 左：大圖輪播（可放大）
   └── 右：商品資訊、規格、購買

2. 商品詳細資訊（Tab 切換）
   ├── 商品描述
   ├── 規格參數
   ├── 購買須知
   └── 顧客評價

3. 顧客評論區（獨立區塊）
   ├── 評分統計圖表
   ├── 評論篩選
   └── 評論列表

4. 推薦商品（底部）
   └── 相關商品推薦
```

**購買區設計：**
```
┌──────────────────────┐
│ 商品名稱              │
│ ⭐⭐⭐⭐⭐ 4.9 (360則) │
│                      │
│ NT$ 1,200           │
│ 原價 $1,500 (8折)   │
│                      │
│ 規格：[⚪ 優級] [⚪ 特級] │
│                      │
│ 數量：[－] 1 [＋]    │
│                      │
│ 庫存：還剩 50 件     │
│                      │
│ [🛒 加入購物車]      │
│ [⚡ 立即購買]        │
│                      │
│ 🚚 宅配到府 3-5天送達 │
│ 💰 滿$1000免運費     │
└──────────────────────┘
```

---

### 階段 4：結帳流程優化（今天完成）

#### 4.1 結帳頁面 (checkout.html) - 電商風格

**設計改善：**
```
✅ 清晰的步驟指示
✅ 表單分區明確
✅ 即時驗證提示
✅ 訂單摘要固定在右側
✅ 配送方式視覺化
✅ 付款方式圖示化
✅ 安全信任標章
✅ 返回購物車連結
```

**佈局結構：**
```
┌─────────────────────────────────────┐
│    步驟指示：1.購物車 → 2.結帳 → 3.完成 │
├─────────────────────────────────────┤
│  [收件人資訊表單]    [訂單摘要]     │
│  ┌─────────────┐  ┌──────────┐     │
│  │ 姓名         │  │ 商品清單  │     │
│  │ 電話         │  │ 小計      │     │
│  │ 地址         │  │ 運費      │     │
│  ├─────────────┤  │ 折扣      │     │
│  │ 配送方式     │  │ ────────  │     │
│  │ ⚪ 宅配到府   │  │ 總計      │     │
│  │ ⚪ 到店自取   │  │ NT$1,300  │     │
│  ├─────────────┤  │          │     │
│  │ 付款方式     │  │ [確認訂單]│     │
│  │ ⚪ 銀行轉帳   │  └──────────┘     │
│  │ ⚪ Line Pay  │                   │
│  └─────────────┘                   │
├─────────────────────────────────────┤
│              Footer                 │
└─────────────────────────────────────┘
```

---

### 階段 5：全站版本號統一（今天完成）

#### 5.1 更新版本號規則

**新版本號：v=20251103181**

**需要更新的檔案清單：**
```
核心頁面：
✅ index.html
✅ products.html  
✅ product-detail.html
✅ cart.html
✅ checkout.html
✅ confirm.html

資訊頁面：
- about.html
- contact.html
- policies.html

季節頁面：
- season.html
- season-ponkan.html
- season-murcott.html
- season-taro.html
- season-water-chestnut.html

指南頁面：
- guide.html
- guide-ponkan.html
- guide-murcott.html
- guide-taro.html
- guide-water-chestnut.html

評級頁面：
- grading.html
- grading-ponkan.html
- grading-murcott.html

其他：
- farming.html
- knowledge.html
- news.html
```

---

### 階段 6：全面功能測試（今天完成）

#### 6.1 購物流程測試
```
測試路徑：
1. 首頁 → 商品列表 → 商品詳情
2. 加入購物車 → 查看購物車
3. 調整數量 → 刪除商品
4. 輸入優惠券 → 查看折扣
5. 前往結帳 → 填寫資訊
6. 選擇配送 → 選擇付款
7. 確認訂單 → 訂單完成

每個步驟都要確認：
✅ 功能正常
✅ 顯示正確
✅ 計算正確
✅ 無 Console 錯誤
```

#### 6.2 導航測試
```
✅ Logo 點擊回到首頁
✅ 所有選單連結正確
✅ 麵包屑導航正確
✅ Footer 連結正確
✅ 手機版選單正常
```

#### 6.3 響應式測試
```
✅ 桌面版 (1920px)
✅ 筆電版 (1366px)
✅ 平板版 (768px)
✅ 手機版 (375px)
```

---

## 🎨 電商設計規範

### 顏色系統
```css
主色：#ff6b35 (橘色)
輔色：#f7931e (金橘色)
成功：#4caf50 (綠色)
警告：#ffc107 (黃色)
錯誤：#f44336 (紅色)
文字：#333333 (深灰)
背景：#f8f8f8 (淺灰)
邊框：#e0e0e0 (灰色)
```

### 字體大小
```css
特大標題：2.5rem (40px)
大標題：2rem (32px)
中標題：1.5rem (24px)
小標題：1.25rem (20px)
正文：1rem (16px)
小字：0.875rem (14px)
```

### 間距系統
```css
xs: 4px
sm: 8px
md: 16px
lg: 24px
xl: 32px
xxl: 48px
```

### 圓角
```css
小圓角：4px
中圓角：8px
大圓角：12px
圓形：50px
```

### 陰影
```css
輕微：0 1px 3px rgba(0,0,0,0.1)
中等：0 4px 6px rgba(0,0,0,0.1)
明顯：0 10px 25px rgba(0,0,0,0.1)
```

---

## 🔧 技術規範

### HTML 結構
```html
<!-- 標準頁面結構 -->
<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>頁面標題 - 柑心果園</title>
    <link rel="stylesheet" href="./css/main.css?v=20251103181">
    <link rel="stylesheet" href="./css/page-specific.css?v=20251103181">
</head>
<body>
    <div id="header-container"></div>
    <main id="main-content">
        <!-- 頁面內容 -->
    </main>
    <div id="footer-container"></div>
    
    <script src="./js/template-loader.js"></script>
    <script src="./js/cart.js?v=20251103181"></script>
    <script src="./js/page-specific.js?v=20251103181"></script>
</body>
</html>
```

### CSS 命名規範
```css
/* BEM 命名 */
.block {}
.block__element {}
.block--modifier {}

/* 例如 */
.product-card {}
.product-card__image {}
.product-card__title {}
.product-card--featured {}
```

### JavaScript 規範
```javascript
// 使用嚴格模式
'use strict';

// 函數註解
/**
 * 函數描述
 * @param {type} paramName - 參數說明
 * @returns {type} 返回值說明
 */
function functionName(paramName) {
    // 函數內容
}

// 錯誤處理
try {
    // 主要邏輯
} catch (error) {
    console.error('錯誤訊息:', error);
}
```

---

## 📊 執行時程

### 今天完成（2025-11-03）
```
✅ Logo 連結修復 (10分鐘)
🔄 購物車頁面重新設計 (1小時)
🔄 商品列表頁優化 (1小時)
🔄 商品詳情頁重新設計 (1.5小時)
🔄 結帳頁面優化 (1小時)
🔄 版本號統一 (30分鐘)
🔄 全面測試 (1小時)

預計總時間：6小時
```

---

## ✅ 完成檢查清單

### Logo 修復
- [x] 桌面版 logo 連結
- [x] 手機版 logo 連結
- [ ] 測試從所有頁面點擊

### 購物車系統
- [ ] 重新設計 cart.html
- [ ] 重構 cart.js
- [ ] 測試加入商品
- [ ] 測試更新數量
- [ ] 測試刪除商品
- [ ] 測試價格計算
- [ ] 測試優惠券
- [ ] 測試空購物車

### 商品頁面
- [ ] 重新設計 products.html
- [ ] 重新設計 product-detail.html
- [ ] 優化商品卡片
- [ ] 加入評分顯示
- [ ] 加入庫存顯示
- [ ] 測試所有功能

### 結帳流程
- [ ] 優化 checkout.html
- [ ] 測試表單驗證
- [ ] 測試配送選擇
- [ ] 測試付款選擇
- [ ] 測試訂單提交

### 版本號
- [ ] 更新所有核心頁面
- [ ] 更新所有資訊頁面
- [ ] 更新所有季節頁面
- [ ] 更新所有指南頁面

### 全面測試
- [ ] 購物流程測試
- [ ] 導航測試
- [ ] 響應式測試
- [ ] 瀏覽器相容性測試

---

## 🎯 目標成果

### 用戶體驗改善
```
✅ Logo 點擊正常回首頁
✅ 購物車清晰易用
✅ 商品頁面專業電商風格
✅ 結帳流程順暢
✅ 所有功能正常運作
✅ 無 Bug，無錯誤
```

### 技術品質
```
✅ 版本號統一管理
✅ 代碼結構清晰
✅ 註解完整
✅ 易於維護
✅ 性能優化
```

### 視覺設計
```
✅ 符合主流電商風格
✅ 顏色系統一致
✅ 字體大小協調
✅ 間距舒適
✅ 響應式完美
```

---

**準備開始執行完整修復計畫！** 🚀
