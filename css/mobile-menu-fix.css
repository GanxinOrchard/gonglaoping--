/* ===== ÊâãÊ©üÊº¢Â†°ÈÅ∏ÂñÆ‰øÆÂæ© CSS ===== */
/* Ê≠§Ê™îÊ°àÂ∞àÈñÄ‰øÆÂæ©ÊâãÊ©üÁâàÊº¢Â†°ÈÅ∏ÂñÆÁöÑÂïèÈ°å */

/* 1. ÊòéÁ¢∫ÁöÑ z-index Â±§Á¥öË®≠ÂÆö */
:root {
    --z-hamburger: 1001;      /* Êº¢Â†°ÊåâÈàï */
    --z-nav-drawer: 1000;     /* ÈÅ∏ÂñÆÊäΩÂ±ú */
    --z-menu-overlay: 999;    /* ÈÅ∏ÂñÆÈÅÆÁΩ© */
    --z-hero: 1;              /* Hero ÂçÄÂüü */
    --z-banner: 1;            /* ÂÖ¨ÂëäÊ¢ù */
}

/* 2. Êº¢Â†°ÊåâÈàïÊ®£Âºè - È°ØÁ§∫Âú®Â∞éËà™Ê¨ÑË≥ºÁâ©ËªäÂè≥ÈÇä */
@media (max-width: 992px) {
    /* Á¢∫‰øù nav-icons Èù†Âè≥Â∞çÈΩä */
    .nav-icons {
        display: flex !important;
        align-items: center;
        gap: 12px !important;
        margin-left: auto !important;
    }
    
    .mobile-menu-toggle {
        display: flex !important;
        position: relative !important;
        background: var(--white);
        border: 2px solid var(--primary-color);
        border-radius: 6px;
        width: 40px;
        height: 40px;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 2px 6px rgba(255, 140, 66, 0.2);
        -webkit-tap-highlight-color: transparent;
        z-index: var(--z-hamburger) !important;
    }
    
    /* Èö±ËóèÊá∏ÊµÆÊåâÈàï */
    .floating-menu-btn,
    .floating-cart-btn {
        display: none !important;
    }
    
    .mobile-menu-toggle:active,
    .floating-menu-btn:active {
        transform: scale(0.95);
    }
    
    .mobile-menu-toggle i,
    .floating-menu-btn i {
        font-size: 18px;
        color: var(--primary-color);
        transition: transform 0.3s ease;
    }
    
    .mobile-menu-toggle.active,
    .floating-menu-btn.active {
        background: var(--primary-color);
    }
    
    .mobile-menu-toggle.active i,
    .floating-menu-btn.active i {
        color: var(--white);
        transform: rotate(90deg);
    }
    
    /* Á¢∫‰øù nav-icons ‰∏≠ÁöÑÊº¢Â†°ÊåâÈàïÈ°ØÁ§∫ */
    .nav-icons .mobile-menu-toggle {
        display: flex !important;
    }
    
    /* Èö±ËóèÊá∏ÊµÆÊº¢Â†°ÊåâÈàï */
    .floating-menu-btn {
        display: none !important;
    }
}

/* 3. ÈÅ∏ÂñÆÊäΩÂ±ú - ÂæûÂè≥ÂÅ¥ÊªëÂÖ• */
@media (max-width: 992px) {
    .main-menu {
        display: block !important; /* Âº∑Âà∂È°ØÁ§∫ */
        position: fixed !important;
        top: 0 !important;
        right: 0 !important;
        bottom: 0 !important;
        left: auto !important;
        width: 85vw !important;
        max-width: 380px !important;
        background: linear-gradient(135deg, var(--primary-color) 0%, #e67e22 100%) !important;
        box-shadow: -8px 0 32px rgba(0, 0, 0, 0.3) !important;
        transform: translateX(100%) !important; /* Áµ±‰∏ÄÁî® transform ÊéßÂà∂ */
        transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
        z-index: 2147483647 !important; /* ÊúÄÈ´òÂ±§ÔºöÁ¢∫‰øùÊäΩÂ±úÂú®ÈÅÆÁΩ©‰πã‰∏ä */
        overflow-y: auto !important;
        -webkit-overflow-scrolling: touch !important;
        padding: 0 !important;
        visibility: visible !important;
        opacity: 1 !important;
        pointer-events: auto !important;
        contain: layout paint style; /* Âª∫Á´ãÁç®Á´ãÁπ™Ë£Ω‰∏ä‰∏ãÊñáÔºåÊ∏õÂ∞ëÂ§ñÈÉ®ÂΩ±Èüø */
        position: relative;
        /* ÊîπÂñÑÊªëÂãïÈ´îÈ©ó */
        overscroll-behavior: contain !important;
        touch-action: manipulation !important;
        will-change: transform !important;
    }
    
    /* Ê©òÂ≠êËÉåÊôØË£ùÈ£æ */
    .main-menu:before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image: 
            radial-gradient(circle at 20% 20%, rgba(255,255,255,0.1) 2px, transparent 2px),
            radial-gradient(circle at 80% 40%, rgba(255,255,255,0.08) 1.5px, transparent 1.5px),
            radial-gradient(circle at 40% 70%, rgba(255,255,255,0.06) 1px, transparent 1px);
        background-size: 50px 50px, 30px 30px, 20px 20px;
        pointer-events: none;
        z-index: 1;
    }
    
    .main-menu.open,
    .main-menu.active {
        transform: translateX(0) !important;
        right: 0 !important; /* ‰øùÂ∫ïÔºåÈÅøÂÖçËàä right Ë¶èÂâáË¶ÜËìã */
    }
    
    .main-menu > ul {
        display: flex;
        flex-direction: column;
        gap: 0;
        padding: 0;
        margin: 0;
        height: 100%;
        position: relative;
        z-index: 2;
    }
    
    /* ÈÅ∏ÂñÆÊ®ôÈ°åÂçÄÂüü */
    .main-menu > ul:before {
        content: "üçä ÁîòÂøÉÊûúÂúí üçä";
        display: block;
        padding: 25px 25px 20px 25px;
        font-size: 20px;
        font-weight: 700;
        color: var(--white);
        text-align: center;
        background: rgba(0,0,0,0.1);
        border-bottom: 2px solid rgba(255,255,255,0.2);
        margin-bottom: 10px;
        text-shadow: 0 2px 4px rgba(0,0,0,0.3);
    }
    
    .main-menu > ul > li {
        border-bottom: 1px solid rgba(255,255,255,0.1);
        position: relative;
    }
    
    .main-menu > ul > li > a {
        display: flex !important;
        align-items: center !important;
        padding: 20px 25px !important;
        color: var(--white) !important;
        text-decoration: none !important;
        font-weight: 600 !important;
        font-size: 18px !important;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
        border-bottom: 1px solid rgba(255,255,255,0.1) !important;
        position: relative !important;
        visibility: visible !important;
        opacity: 1 !important;
    }
    
    /* Ê©òÂ≠êÂúñÁ§∫ */
    .main-menu > ul > li > a:before {
        content: "üçä";
        margin-right: 15px;
        font-size: 20px;
        transition: transform 0.3s ease;
    }
    
    .main-menu > ul > li > a:hover,
    .main-menu > ul > li > a.active {
        background: rgba(255,255,255,0.15) !important;
        color: #fff !important;
        padding-left: 35px !important;
        transform: translateX(5px) !important;
    }
    
    .main-menu > ul > li > a:hover:before {
        transform: scale(1.2) rotate(10deg) !important;
    }
    
    /* Á¢∫‰øùÈÅ∏ÂñÆÈ†ÖÁõÆÂèØË¶ã */
    .main-menu > ul > li {
        display: block !important;
        visibility: visible !important;
        opacity: 1 !important;
    }
}

/* 4. ÈÅ∏ÂñÆÈÅÆÁΩ© - ÈªûÊìäÂ§ñÈÉ®ÈóúÈñâ */
.menu-overlay {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 100% !important;
    background: rgba(0, 0, 0, 0.5);
    z-index: 2147483646 !important; /* ‰ΩéÊñºÊäΩÂ±úÔºå‰ªçÈ´òÊñºÁ¨¨‰∏âÊñπÊá∏ÊµÆÂÖÉ‰ª∂ */
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease, visibility 0.3s ease;
    -webkit-tap-highlight-color: transparent;
}

.menu-overlay.active {
    opacity: 1;
    visibility: visible;
    backdrop-filter: saturate(120%) blur(1px);
}

/* 5. Á¢∫‰øùÂÖ∂‰ªñÂÖÉÁ¥†‰∏çÊúÉÈÅÆÊìãÈÅ∏ÂñÆ */
@media (max-width: 992px) {
    .hero-slider,
    .announcement-bar,
    .header {
        position: relative;
        z-index: var(--z-hero) !important;
    }
    
    .announcement-bar {
        z-index: var(--z-banner) !important;
    }
}

/* 6. ‰∏ãÊãâÈÅ∏ÂñÆÂú®ÊâãÊ©üÁâàÁöÑÊ®£Âºè */
@media (max-width: 992px) {
    /* ÈñãÂïüÈÅ∏ÂñÆÊôÇÔºåÊääÈÅÆÁΩ©Á∏ÆÂà∞ÊäΩÂ±ú‰ª•Â§ñÔºåÈÅøÂÖçÈÅÆÁΩ©Ë¶ÜËìãÊäΩÂ±úÈªûÊìäÂçÄ */
    body.menu-open .menu-overlay {
        left: 0 !important;
        right: 85vw !important; /* ËàáÊäΩÂ±úÂØ¨Â∫¶‰∏ÄËá¥ */
    }

    /* ‰∏ãÊãâÈÅ∏ÂñÆÂÆπÂô® */
    .dropdown {
        position: relative;
    }
    
    .dropdown > a {
        display: flex !important;
        align-items: center !important;
        justify-content: space-between !important;
        padding: 18px 25px !important;
        font-size: 18px !important;
        font-weight: 600 !important;
        color: var(--white) !important;
        text-decoration: none !important;
        border-bottom: 1px solid rgba(255,255,255,0.1) !important;
        transition: all 0.3s ease !important;
    }
    
    .dropdown > a:hover {
        background: var(--primary-dark) !important;
        padding-left: 30px !important;
    }
    
    .dropdown-arrow {
        font-size: 14px !important;
        transition: transform 0.3s ease !important;
        color: var(--white) !important;
    }
    
    .dropdown.active .dropdown-arrow {
        transform: rotate(180deg) !important;
    }

    .dropdown-menu {
        position: static !important;
        box-shadow: none !important;
        background: var(--primary-light) !important;
        margin: 0 !important;
        padding: 0 !important;
        border-radius: 0 !important;
        border-left: 4px solid var(--white) !important;
        margin-left: 20px !important;
        border-top: none !important;
        transform: none !important;
        opacity: 1 !important;
        visibility: visible !important;
        display: none !important;
        max-height: 0 !important;
        overflow: hidden !important;
        transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
    }
    
    .dropdown.active .dropdown-menu {
        display: block !important;
        max-height: 600px !important;
    }
    
    .dropdown-menu a {
        display: flex !important;
        align-items: center !important;
        padding: 18px 25px !important;
        font-size: 16px !important;
        font-weight: 500 !important;
        color: var(--text-dark) !important;
        text-decoration: none !important;
        border-bottom: 1px solid rgba(255,255,255,0.2) !important;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
        position: relative !important;
        line-height: 1.4 !important;
        min-height: 52px !important;
        font-family: inherit !important;
        letter-spacing: 0.02em !important;
    }
    
    .dropdown-menu a:before {
        content: "üçä" !important;
        margin-right: 15px !important;
        font-size: 18px !important;
        transition: transform 0.3s ease !important;
        flex-shrink: 0 !important;
    }
    
    .dropdown-menu a:hover {
        background: var(--primary-color) !important;
        color: var(--white) !important;
        padding-left: 35px !important;
        transform: translateX(3px) !important;
    }
    
    .dropdown-menu a:hover:before {
        transform: scale(1.2) rotate(5deg) !important;
    }
    
    .dropdown-menu a:last-child {
        border-bottom: none !important;
    }
    
    /* Á¢∫‰øùÊâÄÊúâ‰∏ãÊãâÈÅ∏ÂñÆÈ†ÖÁõÆÊ®£Âºè‰∏ÄËá¥ */
    .dropdown-menu li {
        margin: 0 !important;
        padding: 0 !important;
    }
    
    .dropdown-menu li a {
        width: 100% !important;
        box-sizing: border-box !important;
    }
}

/* Ë∂ÖÂ∞èËû¢ÂπïÔºà<= 390pxÔºâ- ÊªøÁâàÊäΩÂ±ú */
@media (max-width: 390px) {
    .main-menu {
        width: 100vw !important;
        max-width: 100vw !important;
    }
    body.menu-open .menu-overlay {
        right: 100vw !important; /* ÈÅÆÁΩ©ÂÆåÂÖ®‰∏çË¶ÜËìãÊäΩÂ±ú */
    }
}

/* 7. Èò≤Ê≠¢ÈÅ∏ÂñÆÊâìÈñãÊôÇËÉåÊôØÊªæÂãï */
body.menu-open {
    overflow: hidden !important;
    position: relative !important;
    width: 100% !important;
    height: 100vh !important;
    left: 0 !important;
    right: 0 !important;
    top: 0 !important;
    bottom: 0 !important;
    /* ÊîπÂñÑÊªëÂãïÈ´îÈ©ó */
    -webkit-overflow-scrolling: touch !important;
    overscroll-behavior: contain !important;
    touch-action: pan-y !important;
}

/* Áï∂ÈÅ∏ÂñÆÈñãÂïüÊôÇÔºåÈóúÈñâÂ§ñÈÉ®Êá∏ÊµÆÊåâÈàï/Â∞èÂ∑•ÂÖ∑‰∫íÂãïËàáÈ°ØÁ§∫ÔºàË¶ÜËìãÁ¨¨‰∏âÊñπÊ•µÁ´Ø z-indexÔºâ */
@media (max-width: 992px) {
    body.menu-open .back-to-top,
    body.menu-open .floating-cart,
    body.menu-open .floating-cart-btn,
    body.menu-open .floating-menu-btn,
    body.menu-open .grecaptcha-badge,
    body.menu-open .fb_dialog,
    body.menu-open [class*="chat"],
    body.menu-open [class*="Chat"],
    body.menu-open [class*="widget"],
    body.menu-open [class*="Widget"],
    body.menu-open [class*="float"],
    body.menu-open [class*="Float"],
    body.menu-open [class*="bubble"],
    body.menu-open [class*="Bubble"] {
        z-index: 0 !important;
        opacity: 0 !important;
        pointer-events: none !important;
    }
}

/* 8. Ëß∏ÊéßÂÑ™Âåñ */
@media (max-width: 992px) {
    .main-menu a,
    .mobile-menu-toggle,
    .floating-menu-btn {
        -webkit-tap-highlight-color: transparent;
        touch-action: manipulation;
    }
}

/* 9. Ë≥ºÁâ©ËªäÈ†ÅÈù¢ÊâãÊ©üÁâàÂÑ™Âåñ */
@media (max-width: 768px) {
    /* Èö±ËóèË≥ºÁâ©ËªäÈ†ÅÈù¢ÁöÑ logo ÂíåË≥ºÁâ©ËªäÂúñÊ®ô */
    body:has(.cart-page) .header .logo,
    .cart-page .header .logo {
        display: none !important;
    }
    
    body:has(.cart-page) .header .cart-icon,
    .cart-page .header .cart-icon {
        display: none !important;
    }
    
    /* ËÆìÊº¢Â†°ÈÅ∏ÂñÆÂú®Ë≥ºÁâ©ËªäÈ†ÅÈù¢‰πüÈù†Âè≥ */
    body:has(.cart-page) .header .nav-icons,
    .cart-page .header .nav-icons {
        margin-left: auto !important;
        justify-content: flex-end !important;
    }
}
