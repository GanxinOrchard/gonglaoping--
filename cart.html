<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>購物車 - 柑心果園</title>
    <meta name="description" content="柑心果園購物車，查看您選購的商品，立即結帳享受新鮮美味。">
    
    <!-- 只載入必要的樣式 -->
    <link rel="stylesheet" href="./css/main.css?v=20251103181">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- 購物車獨立樣式 -->
    <link rel="stylesheet" href="./css/pages/cart-独立.css?v=20251103">
</head>
<body>
    <div id="header-container"></div>
    <div id="mobile-menu-container"></div>

    <main id="main-content">
        <!-- 頁面標題 -->
        <section class="page-header">
            <div class="header-content">
                <h1><i class="fas fa-shopping-cart"></i> 購物車</h1>
                <p>您的商品・即將新鮮送達</p>
            </div>
        </section>

        <!-- 購物車內容 -->
        <div class="cart-container">
            <div class="cart-layout">
                <!-- 左側：購物車商品列表 -->
                <div class="cart-items-section">
                    <div class="cart-header">
                        <h2>
                            購物車商品
                            <span class="item-count" id="cartItemCount">(0)</span>
                        </h2>
                        <button class="btn-clear" onclick="clearCart()">
                            <i class="fas fa-trash-alt"></i> 清空購物車
                        </button>
                    </div>

                    <!-- 購物車商品列表 -->
                    <div id="cartItemsList" class="cart-items-list">
                        <!-- 由JS動態生成 -->
                    </div>

                    <!-- 空購物車狀態 -->
                    <div id="emptyCart" class="empty-cart" style="display: none;">
                        <i class="fas fa-shopping-cart empty-icon"></i>
                        <h3>購物車是空的</h3>
                        <p>還沒有添加任何商品，快去選購吧！</p>
                        <a href="products.html" class="btn-shop">
                            <i class="fas fa-arrow-left"></i> 繼續選購
                        </a>
                    </div>
                </div>

                <!-- 右側：訂單摘要 -->
                <div class="order-summary">
                    <h3>訂單摘要</h3>

                    <!-- 優惠碼 -->
                    <div class="promo-section">
                        <label>優惠碼</label>
                        <div class="promo-input-group">
                            <input type="text" id="promoCode" placeholder="輸入優惠碼">
                            <button onclick="applyPromo()">套用</button>
                        </div>
                    </div>

                    <!-- 費用明細 -->
                    <div class="summary-details">
                        <div class="summary-row">
                            <span>商品小計</span>
                            <span id="subtotal">NT$ 0</span>
                        </div>
                        <div class="summary-row">
                            <span>運費</span>
                            <span id="shipping">NT$ 100</span>
                        </div>
                        <div class="summary-row discount-row" id="discountRow" style="display: none;">
                            <span>優惠折扣</span>
                            <span id="discount">-NT$ 0</span>
                        </div>
                    </div>

                    <!-- 總計 -->
                    <div class="summary-total">
                        <span>總計</span>
                        <span class="total-amount" id="totalAmount">NT$ 0</span>
                    </div>

                    <!-- 結帳按鈕 -->
                    <button class="btn-checkout" onclick="checkout()">
                        <i class="fas fa-lock"></i> 前往結帳
                    </button>

                    <a href="products.html" class="link-continue">
                        <i class="fas fa-arrow-left"></i> 繼續選購
                    </a>

                    <!-- 安全標誌 -->
                    <div class="security-badge">
                        <i class="fas fa-shield-alt"></i>
                        <span>安全結帳保障</span>
                    </div>
                </div>
            </div>

            <!-- 推薦商品 -->
            <div class="recommend-section">
                <h2>您可能也喜歡</h2>
                <div class="recommend-grid" id="recommendProducts">
                    <!-- 由JS生成 -->
                </div>
            </div>
        </div>
    </main>

    <div id="footer-container"></div>

    <!-- 核心 JS -->
    <script src="./js/template-loader.js"></script>
    <script src="./js/mobile-menu-simple.js"></script>
    <script src="./js/dropdown-menu.js"></script>
    
    <!-- 商品數據 -->
    <script src="./js/products.js?v=20251103"></script>
    
    <!-- 購物車獨立JS -->
    <script src="./js/pages/cart-独立.js?v=20251103"></script>
</body>
</html>
