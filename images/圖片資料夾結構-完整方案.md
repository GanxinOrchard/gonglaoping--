# 柑心果園 - 圖片資料夾結構完整方案

## 📋 根據後端 GAS 設計的完整結構

### 🔍 後端資料結構分析

根據 `GAS-分頁管理-GitHub版.gs`：

```javascript
// 商品管理
products: ['商品ID', '商品名稱', '分類', '主圖', '詳情圖', '價格'...]

// 最新消息
news: ['文章ID', '標題', '分類', '封面圖', '內容'...]

// 知識百科
knowledge: ['文章ID', '標題', '分類', '封面圖', '內容'...]
```

**關鍵發現：**
1. 商品有「主圖」和「詳情圖」分開
2. 文章系統有「文章ID」（動態內容）
3. 內容欄位可能包含多張圖片

---

## 🎯 推薦的完整結構

```
images/
├── shared/                          # 全站共用
│   ├── logo/
│   └── icons/
│
├── pages/                           # 靜態頁面圖片
│   ├── index/
│   │   ├── hero/                   (首頁輪播)
│   │   ├── features/               (特色介紹)
│   │   └── promotion/              (促銷活動)
│   ├── about/
│   │   ├── covers/
│   │   └── content/
│   ├── news/
│   │   ├── covers/                 (頁面封面)
│   │   └── articles/               ⭐ 文章圖片
│   │       ├── 2025-001/          (按文章ID)
│   │       ├── 2025-002/
│   │       └── ...
│   ├── knowledge/
│   │   ├── covers/                 (頁面封面)
│   │   └── articles/               ⭐ 文章圖片
│   │       ├── article-001/       (按文章ID)
│   │       ├── article-002/
│   │       └── ...
│   ├── season/...
│   ├── guide/...
│   ├── grading/...
│   ├── farming/
│   ├── contact/
│   └── cart-checkout/
│
├── products/                        # 商品資料（動態內容）
│   ├── ponkan/
│   │   ├── main/                   ⭐ 主圖（列表用）
│   │   │   └── ponkan-main.jpg
│   │   ├── gallery/                ⭐ 詳情圖集
│   │   │   ├── ponkan-1.jpg
│   │   │   ├── ponkan-2.jpg
│   │   │   └── ...
│   │   └── content/                ⭐ 商品說明圖
│   │       ├── nutrition.png      (營養成分)
│   │       ├── origin.png         (產地介紹)
│   │       └── usage.png          (食用方法)
│   ├── murcott/
│   │   ├── main/
│   │   ├── gallery/
│   │   └── content/
│   ├── taro/...
│   ├── water-chestnut/...
│   └── store/
│
└── temp/                           # 臨時暫存
```

---

## 📊 詳細說明

### 1. Products 商品圖片（三層結構）⭐

#### 為什麼需要分三層？

| 資料夾 | 用途 | GAS 欄位 | 使用場景 |
|--------|------|----------|----------|
| **main/** | 主圖 | `主圖` | 商品列表卡片、首頁推薦 |
| **gallery/** | 詳情圖集 | `詳情圖` | 商品詳情頁的圖片輪播 |
| **content/** | 說明內容圖 | `描述`（內嵌） | 商品介紹文字中的配圖 |

#### 範例：椪柑商品

```
products/ponkan/
├── main/
│   └── ponkan-main.jpg              # 商品列表主圖
├── gallery/
│   ├── ponkan-detail-1.jpg          # 詳情頁圖1
│   ├── ponkan-detail-2.jpg          # 詳情頁圖2
│   └── ponkan-detail-3.jpg          # 詳情頁圖3
└── content/
    ├── nutrition-chart.png          # 營養成分表
    ├── origin-map.png               # 產地地圖
    └── storage-guide.png            # 保存指南圖
```

#### GAS 中的配置：

```javascript
// 商品資料表範例
{
  商品ID: 'ponkan-001',
  商品名稱: '公老坪椪柑',
  主圖: 'images/products/ponkan/main/ponkan-main.jpg',
  詳情圖: [
    'images/products/ponkan/gallery/ponkan-detail-1.jpg',
    'images/products/ponkan/gallery/ponkan-detail-2.jpg',
    'images/products/ponkan/gallery/ponkan-detail-3.jpg'
  ],
  描述: '這裡可以包含 <img> 標籤引用 content/ 中的圖片'
}
```

---

### 2. News 最新消息（按文章ID）⭐

#### 為什麼按文章ID分類？

✅ **優點：**
- 每篇文章的圖片獨立管理
- 刪除文章時一起刪除圖片
- 支援多張圖片的文章
- 避免圖片名稱衝突

#### 結構：

```
pages/news/
├── covers/
│   └── news-page-cover.png          # 頁面封面
└── articles/
    ├── 2025-001/                     # 第一篇文章
    │   ├── cover.jpg                # 文章封面
    │   ├── img-1.jpg                # 內文圖1
    │   └── img-2.jpg                # 內文圖2
    ├── 2025-002/                     # 第二篇文章
    │   ├── cover.jpg
    │   └── img-1.jpg
    └── ...
```

#### GAS 中的使用：

```javascript
// 最新消息資料表
{
  文章ID: '2025-001',
  標題: '椪柑採收季節到來',
  封面圖: 'images/pages/news/articles/2025-001/cover.jpg',
  內容: '<p>文字...</p><img src="images/pages/news/articles/2025-001/img-1.jpg">...'
}
```

#### 命名規則建議：

```
文章ID格式：YYYY-NNN
- YYYY = 年份
- NNN = 流水號（001, 002, 003...）

範例：
2025-001  第1篇
2025-002  第2篇
2025-123  第123篇
```

---

### 3. Knowledge 蔬果知識（按文章ID）⭐

**結構與 News 相同：**

```
pages/knowledge/
├── covers/
│   └── knowledge-page-cover.png     # 頁面封面
└── articles/
    ├── article-001/                  # 椪柑營養知識
    │   ├── cover.png
    │   ├── nutrition-table.png
    │   └── benefits.png
    ├── article-002/                  # 茂谷柑保存方法
    │   └── ...
    └── ...
```

---

## 🔧 GAS 配置更新

在 `GAS-分頁管理-GitHub版.gs` 中更新：

```javascript
imagePaths: {
  base: 'images',
  
  shared: {
    logo: 'images/shared/logo',
    icons: 'images/shared/icons'
  },
  
  pages: {
    index: {
      hero: 'images/pages/index/hero',
      features: 'images/pages/index/features',
      promotion: 'images/pages/index/promotion'
    },
    news: {
      covers: 'images/pages/news/covers',
      articles: 'images/pages/news/articles'  // 子資料夾按文章ID
    },
    knowledge: {
      covers: 'images/pages/knowledge/covers',
      articles: 'images/pages/knowledge/articles'  // 子資料夾按文章ID
    },
    // ... 其他頁面
  },
  
  products: {
    base: 'images/products',
    structure: {
      main: 'main',      // 主圖
      gallery: 'gallery', // 詳情圖集
      content: 'content'  // 說明內容圖
    },
    // 產品列表
    ponkan: 'images/products/ponkan',
    murcott: 'images/products/murcott',
    taro: 'images/products/taro',
    waterChestnut: 'images/products/water-chestnut',
    store: 'images/products/store'
  }
}
```

---

## 📝 新增內容時的操作流程

### 新增最新消息

1. **在 GAS 中：**
   - 點擊「發布新文章」
   - 系統自動生成文章ID（如 2025-003）
   - 填寫標題、內容

2. **上傳圖片：**
   - 手動建立資料夾：`images/pages/news/articles/2025-003/`
   - 上傳封面：`cover.jpg`
   - 上傳內文圖：`img-1.jpg`, `img-2.jpg`...

3. **在 GAS 中填寫路徑：**
   - 封面圖：`images/pages/news/articles/2025-003/cover.jpg`
   - 內容中插入：`<img src="images/pages/news/articles/2025-003/img-1.jpg">`

### 新增商品

1. **在 GAS 中：**
   - 點擊「上架新商品」
   - 系統生成商品ID（如 ponkan-premium-001）

2. **上傳圖片：**
   ```
   products/ponkan/
   ├── main/ponkan-premium-001.jpg
   ├── gallery/
   │   ├── detail-1.jpg
   │   └── detail-2.jpg
   └── content/
       └── nutrition.png
   ```

3. **在 GAS 填寫：**
   - 主圖：`images/products/ponkan/main/ponkan-premium-001.jpg`
   - 詳情圖：`images/products/ponkan/gallery/detail-1.jpg` (多選)

---

## ✅ 優勢總結

### Products 三層結構
1. ✅ **清晰分類** - 主圖、圖集、說明圖分開
2. ✅ **效能優化** - 列表頁只載入小主圖
3. ✅ **易於管理** - 不同用途的圖片不會混亂
4. ✅ **符合 GAS** - 配合後端欄位設計

### 文章按 ID 分類
1. ✅ **獨立管理** - 每篇文章圖片獨立
2. ✅ **避免衝突** - 不同文章可用相同檔名
3. ✅ **便於刪除** - 刪除文章連圖片一起刪
4. ✅ **支援擴展** - 未來文章無限增加

---

## 🚀 立即執行的步驟

1. **建立新資料夾結構**
2. **移動現有圖片到正確位置**
3. **更新 GAS 配置**
4. **測試新增文章流程**

**要我現在開始建立這個完整結構嗎？** 🎯
