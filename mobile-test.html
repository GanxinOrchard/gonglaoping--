<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>手機版測試 - 柑心果園</title>
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/mobile-menu-fix.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Microsoft JhengHei', sans-serif;
            background: white;
        }
        
        .mobile-test-content {
            padding: 20px;
            background: white;
            min-height: 100vh;
        }
        
        .test-header {
            background: linear-gradient(135deg, #ff8c42, #ff6b35);
            color: white;
            padding: 30px 20px;
            text-align: center;
            margin-bottom: 20px;
        }
        
        .test-header h1 {
            margin: 0 0 10px 0;
            font-size: 28px;
        }
        
        .test-header p {
            margin: 0;
            font-size: 16px;
            opacity: 0.9;
        }
        
        .test-section {
            background: #f8f9fa;
            padding: 20px;
            margin: 20px 0;
            border-radius: 12px;
            border-left: 4px solid #ff8c42;
        }
        
        .test-section h3 {
            color: #ff8c42;
            margin-top: 0;
            font-size: 20px;
        }
        
        .test-steps {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }
        
        .test-steps ol {
            margin: 10px 0;
            padding-left: 20px;
        }
        
        .test-steps li {
            margin: 8px 0;
            line-height: 1.5;
        }
        
        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .status-pass {
            background: #28a745;
        }
        
        .status-fail {
            background: #dc3545;
        }
        
        .status-pending {
            background: #ffc107;
        }
        
        .device-info {
            background: #fff3cd;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #ffc107;
        }
        
        .device-info h4 {
            margin-top: 0;
            color: #856404;
        }
        
        .quick-links {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
            margin: 20px 0;
        }
        
        .quick-link {
            background: white;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            border: 2px solid #ff8c42;
            text-decoration: none;
            color: #ff8c42;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .quick-link:hover {
            background: #ff8c42;
            color: white;
        }
        
        .debug-info {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            font-family: monospace;
            font-size: 14px;
            margin: 15px 0;
            border: 1px solid #dee2e6;
        }
        
        @media (max-width: 768px) {
            .test-header h1 {
                font-size: 24px;
            }
            
            .test-header p {
                font-size: 14px;
            }
            
            .test-section {
                padding: 15px;
            }
            
            .quick-links {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- 跑馬燈 -->
    <div class="announcement-bar">
        <div class="announcement-content">
            <i class="fas fa-mobile-alt"></i>
            <span>📱 手機版選單測試頁面</span>
        </div>
    </div>
    
    <!-- 導航列 -->
    <header class="header">
        <div class="container">
            <div class="nav-content">
                <div class="logo">
                    <a href="index.html">
                        <img src="./images/商標.jpg" alt="柑心果園" width="180" height="60" loading="lazy">
                    </a>
                </div>
                
                <div class="nav-icons">
                    <a href="cart.html" class="cart-icon" id="cartIcon">
                        <i class="fas fa-shopping-cart"></i>
                        <span class="cart-count" id="cartCount">0</span>
                    </a>
                    <button type="button" class="mobile-menu-toggle" id="mobileMenuToggle" aria-controls="mainMenu" aria-expanded="false" aria-label="開啟選單">
                        <span class="menu-line"></span>
                            <span class="menu-line"></span>
                            <span class="menu-line"></span>
                    </button>
                </div>
            </div>
            
            <div class="main-menu" id="mainMenu">
                <ul>
                    <li><a href="index.html">首頁</a></li>
                    <li><a href="about.html">關於我們</a></li>
                    <li class="dropdown">
                        <a href="products.html">全部商品 <i class="fas fa-chevron-down"></i></a>
                        <ul class="dropdown-menu">
                            <li><a href="products.html?category=優質水果">優質水果</a></li>
                            <li><a href="products.html?category=新鮮蔬果">新鮮蔬果</a></li>
                            <li><a href="products.html?category=冷凍食品">冷凍食品</a></li>
                        </ul>
                    </li>
                    <li><a href="news.html">最新消息</a></li>
                    <li><a href="contact.html">聯絡我們</a></li>
                    <li><a href="order-tracking.html">訂單查詢</a></li>
                </ul>
            </div>
        </div>
    </header>

    <main id="main-content">
        <div class="mobile-test-content">
            <div class="test-header">
                <h1>📱 手機版選單測試</h1>
                <p>測試漢堡選單在手機上的運作情況</p>
            </div>
            
            <div class="device-info">
                <h4>📱 目前裝置資訊</h4>
                <div id="deviceInfo">載入中...</div>
            </div>
            
            <div class="test-section">
                <h3>🔍 測試步驟</h3>
                <div class="test-steps">
                    <ol>
                        <li>檢查右上角是否有漢堡選單按鈕（三條線圖標）</li>
                        <li>點擊漢堡選單按鈕</li>
                        <li>檢查選單是否從右側滑入</li>
                        <li>檢查選單內容是否完整顯示</li>
                        <li>測試下拉選單是否正常展開</li>
                        <li>點擊選單外部或遮罩，檢查選單是否關閉</li>
                    </ol>
                </div>
            </div>
            
            <div class="test-section">
                <h3>✅ 測試結果</h3>
                <div id="testResults">
                    <p><span class="status-indicator status-pending"></span>漢堡選單按鈕顯示</p>
                    <p><span class="status-indicator status-pending"></span>選單滑入動畫</p>
                    <p><span class="status-indicator status-pending"></span>選單內容完整</p>
                    <p><span class="status-indicator status-pending"></span>下拉選單功能</p>
                    <p><span class="status-indicator status-pending"></span>選單關閉功能</p>
                </div>
            </div>
            
            <div class="test-section">
                <h3>🔗 快速測試連結</h3>
                <div class="quick-links">
                    <a href="index.html" class="quick-link">首頁</a>
                    <a href="products.html" class="quick-link">商品頁</a>
                    <a href="cart.html" class="quick-link">購物車</a>
                    <a href="about.html" class="quick-link">關於我們</a>
                    <a href="contact.html" class="quick-link">聯絡我們</a>
                    <a href="test-simple.html" class="quick-link">簡單測試</a>
                </div>
            </div>
            
            <div class="test-section">
                <h3>🐛 除錯資訊</h3>
                <div class="debug-info" id="debugInfo">
                    載入中...
                </div>
            </div>
        </div>
    </main>

    <!-- 頁尾 -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>關於柑心果園</h4>
                    <p>我們致力於提供最新鮮、最優質的台灣在地農產品。</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 柑心果園 Ganxin Orchard. 版權所有。</p>
            </div>
        </div>
    </footer>

    <!-- 載入必要的 JavaScript -->
    <script src="./js/mobile-menu-fix.js" defer></script>
    <script src="./js/dropdown-menu.js" defer></script>
    
    <script>
        // 手機版測試專用腳本
        document.addEventListener('DOMContentLoaded', function() {
            console.log('📱 手機版測試頁面已載入');
            
            // 顯示裝置資訊
            const deviceInfo = document.getElementById('deviceInfo');
            const debugInfo = document.getElementById('debugInfo');
            
            // 檢測裝置資訊
            const isMobile = window.innerWidth <= 768;
            const isTablet = window.innerWidth > 768 && window.innerWidth <= 1024;
            const isDesktop = window.innerWidth > 1024;
            
            let deviceType = '桌面版';
            if (isMobile) deviceType = '手機版';
            else if (isTablet) deviceType = '平板版';
            
            deviceInfo.innerHTML = `
                <strong>裝置類型：</strong>${deviceType}<br>
                <strong>螢幕寬度：</strong>${window.innerWidth}px<br>
                <strong>螢幕高度：</strong>${window.innerHeight}px<br>
                <strong>使用者代理：</strong>${navigator.userAgent.substring(0, 50)}...
            `;
            
            // 檢查選單元素
            const toggle = document.getElementById('mobileMenuToggle');
            const menu = document.getElementById('mainMenu');
            const overlays = document.querySelectorAll('.menu-overlay, .cart-overlay');
            
            let debugText = `選單按鈕: ${toggle ? '✅ 找到' : '❌ 未找到'}\n`;
            debugText += `主選單: ${menu ? '✅ 找到' : '❌ 未找到'}\n`;
            debugText += `遮罩數量: ${overlays.length}\n`;
            debugText += `視窗寬度: ${window.innerWidth}px\n`;
            debugText += `是否手機版: ${isMobile ? '是' : '否'}\n`;
            
            // 檢查遮罩狀態
            overlays.forEach((overlay, index) => {
                debugText += `遮罩${index + 1}: display=${overlay.style.display || 'default'}, opacity=${overlay.style.opacity || 'default'}\n`;
            });
            
            debugInfo.textContent = debugText;
            
            // 測試選單功能
            if (toggle) {
                toggle.addEventListener('click', function() {
                    console.log('🖱️ 漢堡選單被點擊');
                    
                    // 更新測試結果
                    const results = document.getElementById('testResults');
                    const indicators = results.querySelectorAll('.status-indicator');
                    
                    // 簡單的測試邏輯
                    setTimeout(() => {
                        indicators[0].className = 'status-indicator status-pass';
                        indicators[1].className = 'status-indicator status-pass';
                        indicators[2].className = 'status-indicator status-pass';
                    }, 500);
                });
            }
            
            // 監聽視窗大小變化
            window.addEventListener('resize', function() {
                const newWidth = window.innerWidth;
                const newIsMobile = newWidth <= 768;
                
                deviceInfo.innerHTML = `
                    <strong>裝置類型：</strong>${newIsMobile ? '手機版' : '桌面版'}<br>
                    <strong>螢幕寬度：</strong>${newWidth}px<br>
                    <strong>螢幕高度：</strong>${window.innerHeight}px
                `;
            });
        });
    </script>
</body>
</html>




