@echo off
title 柑心果園網站上傳工具
color 0A

:: 設定 FTP 伺服器資訊
set FTP_SERVER=ftp.你的網域.com
set FTP_USER=你的FTP使用者名稱
set FTP_PASS=你的FTP密碼
set LOCAL_DIR=.\
set REMOTE_DIR=/public_html/

:: 建立臨時 FTP 指令檔
echo user %FTP_USER% %FTP_PASS% > ftpcmd.dat
echo binary >> ftpcmd.dat
echo cd %REMOTE_DIR% >> ftpcmd.dat

:: 遞迴上傳所有檔案
for /r %LOCAL_DIR% %%f in (*) do (
    set "relpath=%%~f"
    set "relpath=!relpath:%LOCAL_DIR%=!"
    set "relpath=!relpath:\=/!"
    echo put "%%f" "!relpath!"
) >> ftpcmd.dat

echo bye >> ftpcmd.dat

:: 顯示上傳資訊
echo 正在準備上傳檔案...
echo 伺服器: %FTP_SERVER%
echo 本地目錄: %CD%\
echo 遠端目錄: %REMOTE_DIR%
echo.
echo 正在連線到伺服器...

:: 執行 FTP 上傳
ftp -n -s:ftpcmd.dat %FTP_SERVER%

del ftpcmd.dat

echo.
echo 上傳完成！
pause
