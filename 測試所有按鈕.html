<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æŒ‰éˆ•åŠŸèƒ½æ¸¬è©¦ - æŸ‘å¿ƒæœåœ’</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Microsoft JhengHei', sans-serif;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #ff8c42;
            margin-bottom: 30px;
            text-align: center;
        }
        .test-section {
            margin-bottom: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        .test-section h2 {
            color: #333;
            margin-bottom: 15px;
            font-size: 20px;
        }
        .test-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px;
            margin-bottom: 10px;
            background: white;
            border-radius: 6px;
            border-left: 4px solid #ddd;
        }
        .test-item.pass {
            border-left-color: #4caf50;
        }
        .test-item.fail {
            border-left-color: #f44336;
        }
        .test-item.pending {
            border-left-color: #ff9800;
        }
        .test-name {
            flex: 1;
            font-weight: 500;
        }
        .test-status {
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
        }
        .status-pass {
            background: #4caf50;
            color: white;
        }
        .status-fail {
            background: #f44336;
            color: white;
        }
        .status-pending {
            background: #ff9800;
            color: white;
        }
        .test-button {
            background: #ff8c42;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 5px;
            transition: all 0.3s;
        }
        .test-button:hover {
            background: #e67a2e;
            transform: translateY(-2px);
        }
        .test-button:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }
        .summary {
            text-align: center;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 8px;
            margin-top: 30px;
        }
        .summary h3 {
            margin-bottom: 10px;
        }
        .summary-stats {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 15px;
        }
        .stat-item {
            font-size: 24px;
            font-weight: bold;
        }
        .console-output {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            max-height: 300px;
            overflow-y: auto;
            margin-top: 20px;
        }
        .console-line {
            margin-bottom: 5px;
        }
        .console-success {
            color: #4ec9b0;
        }
        .console-error {
            color: #f48771;
        }
        .console-info {
            color: #569cd6;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ§ª æŸ‘å¿ƒæœåœ’ - æŒ‰éˆ•åŠŸèƒ½æ¸¬è©¦</h1>
        
        <div style="text-align: center; margin-bottom: 30px;">
            <button class="test-button" onclick="runAllTests()">åŸ·è¡Œæ‰€æœ‰æ¸¬è©¦</button>
            <button class="test-button" onclick="clearResults()">æ¸…é™¤çµæœ</button>
            <button class="test-button" onclick="openMainSite()">é–‹å•Ÿä¸»ç¶²ç«™</button>
        </div>

        <!-- æ‰‹æ©Ÿé¸å–®æ¸¬è©¦ -->
        <div class="test-section">
            <h2>ğŸ“± æ‰‹æ©Ÿé¸å–®æŒ‰éˆ•</h2>
            <div class="test-item" id="test-mobile-menu-toggle">
                <span class="test-name">1. æ¼¢å ¡æŒ‰éˆ• (#mobileMenuToggle)</span>
                <span class="test-status status-pending">å¾…æ¸¬è©¦</span>
            </div>
            <div class="test-item" id="test-floating-menu">
                <span class="test-name">2. æ‡¸æµ®é¸å–®æŒ‰éˆ• (#floatingMenuBtn)</span>
                <span class="test-status status-pending">å¾…æ¸¬è©¦</span>
            </div>
        </div>

        <!-- æœå°‹åŠŸèƒ½æ¸¬è©¦ -->
        <div class="test-section">
            <h2>ğŸ” æœå°‹åŠŸèƒ½</h2>
            <div class="test-item" id="test-search-btn">
                <span class="test-name">3. æœå°‹æŒ‰éˆ• (#searchBtn)</span>
                <span class="test-status status-pending">å¾…æ¸¬è©¦</span>
            </div>
        </div>

        <!-- è³¼ç‰©è»Šæ¸¬è©¦ -->
        <div class="test-section">
            <h2>ğŸ›’ è³¼ç‰©è»ŠæŒ‰éˆ•</h2>
            <div class="test-item" id="test-cart-icon">
                <span class="test-name">4. è³¼ç‰©è»Šåœ–ç¤º (#cartIcon)</span>
                <span class="test-status status-pending">å¾…æ¸¬è©¦</span>
            </div>
            <div class="test-item" id="test-floating-cart">
                <span class="test-name">5. æ‡¸æµ®è³¼ç‰©è»Š (#floatingCartBtn)</span>
                <span class="test-status status-pending">å¾…æ¸¬è©¦</span>
            </div>
            <div class="test-item" id="test-close-cart">
                <span class="test-name">6. é—œé–‰è³¼ç‰©è»Š (#closeCart)</span>
                <span class="test-status status-pending">å¾…æ¸¬è©¦</span>
            </div>
            <div class="test-item" id="test-checkout-btn">
                <span class="test-name">7. å‰å¾€çµå¸³æŒ‰éˆ• (#checkoutBtn)</span>
                <span class="test-status status-pending">å¾…æ¸¬è©¦</span>
            </div>
        </div>

        <!-- å•†å“ç›¸é—œæ¸¬è©¦ -->
        <div class="test-section">
            <h2>ğŸ›ï¸ å•†å“åŠŸèƒ½</h2>
            <div class="test-item" id="test-category-btns">
                <span class="test-name">8. å•†å“åˆ†é¡æŒ‰éˆ• (.category-btn)</span>
                <span class="test-status status-pending">å¾…æ¸¬è©¦</span>
            </div>
            <div class="test-item" id="test-products-prev">
                <span class="test-name">9. å•†å“è¼ªæ’­ä¸Šä¸€é  (#productsPrev)</span>
                <span class="test-status status-pending">å¾…æ¸¬è©¦</span>
            </div>
            <div class="test-item" id="test-products-next">
                <span class="test-name">10. å•†å“è¼ªæ’­ä¸‹ä¸€é  (#productsNext)</span>
                <span class="test-status status-pending">å¾…æ¸¬è©¦</span>
            </div>
        </div>

        <!-- çµå¸³ç›¸é—œæ¸¬è©¦ -->
        <div class="test-section">
            <h2>ğŸ’³ çµå¸³åŠŸèƒ½</h2>
            <div class="test-item" id="test-close-checkout-modal">
                <span class="test-name">11. é—œé–‰çµå¸³è¦–çª— (#closeCheckoutModal)</span>
                <span class="test-status status-pending">å¾…æ¸¬è©¦</span>
            </div>
            <div class="test-item" id="test-submit-order">
                <span class="test-name">12. ç¢ºèªè¨‚å–®æŒ‰éˆ• (.btn-submit-order)</span>
                <span class="test-status status-pending">å¾…æ¸¬è©¦</span>
            </div>
        </div>

        <!-- æ¸¬è©¦æ‘˜è¦ -->
        <div class="summary">
            <h3>æ¸¬è©¦æ‘˜è¦</h3>
            <div class="summary-stats">
                <div class="stat-item">
                    <div>âœ… é€šé</div>
                    <div id="pass-count">0</div>
                </div>
                <div class="stat-item">
                    <div>âŒ å¤±æ•—</div>
                    <div id="fail-count">0</div>
                </div>
                <div class="stat-item">
                    <div>â³ å¾…æ¸¬</div>
                    <div id="pending-count">12</div>
                </div>
            </div>
        </div>

        <!-- Console è¼¸å‡º -->
        <div class="console-output" id="console-output">
            <div class="console-line console-info">æº–å‚™åŸ·è¡Œæ¸¬è©¦...</div>
        </div>
    </div>

    <script>
        let testResults = {
            pass: 0,
            fail: 0,
            pending: 12
        };

        function log(message, type = 'info') {
            const console = document.getElementById('console-output');
            const line = document.createElement('div');
            line.className = `console-line console-${type}`;
            line.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
            console.appendChild(line);
            console.scrollTop = console.scrollHeight;
        }

        function updateTestStatus(testId, status) {
            const testItem = document.getElementById(testId);
            const statusSpan = testItem.querySelector('.test-status');
            
            // ç§»é™¤èˆŠç‹€æ…‹
            testItem.classList.remove('pass', 'fail', 'pending');
            statusSpan.classList.remove('status-pass', 'status-fail', 'status-pending');
            
            // æ·»åŠ æ–°ç‹€æ…‹
            testItem.classList.add(status);
            statusSpan.classList.add(`status-${status}`);
            
            if (status === 'pass') {
                statusSpan.textContent = 'âœ… é€šé';
                testResults.pass++;
                testResults.pending--;
            } else if (status === 'fail') {
                statusSpan.textContent = 'âŒ å¤±æ•—';
                testResults.fail++;
                testResults.pending--;
            }
            
            updateSummary();
        }

        function updateSummary() {
            document.getElementById('pass-count').textContent = testResults.pass;
            document.getElementById('fail-count').textContent = testResults.fail;
            document.getElementById('pending-count').textContent = testResults.pending;
        }

        async function runAllTests() {
            log('é–‹å§‹åŸ·è¡Œæ‰€æœ‰æ¸¬è©¦...', 'info');
            
            // åœ¨æ–°è¦–çª—é–‹å•Ÿä¸»ç¶²ç«™
            const mainWindow = window.open('index.html', '_blank');
            
            if (!mainWindow) {
                log('ç„¡æ³•é–‹å•Ÿä¸»ç¶²ç«™è¦–çª—ï¼Œè«‹å…è¨±å½ˆå‡ºè¦–çª—', 'error');
                return;
            }
            
            log('ç­‰å¾…ä¸»ç¶²ç«™è¼‰å…¥...', 'info');
            
            // ç­‰å¾…é é¢è¼‰å…¥
            await new Promise(resolve => setTimeout(resolve, 2000));
            
            try {
                // æ¸¬è©¦ 1: æ¼¢å ¡æŒ‰éˆ•
                log('æ¸¬è©¦ 1: æª¢æŸ¥æ¼¢å ¡æŒ‰éˆ•...', 'info');
                const mobileMenuToggle = mainWindow.document.getElementById('mobileMenuToggle');
                if (mobileMenuToggle && mobileMenuToggle.getAttribute('type') === 'button') {
                    updateTestStatus('test-mobile-menu-toggle', 'pass');
                    log('âœ… æ¼¢å ¡æŒ‰éˆ•å­˜åœ¨ä¸” type="button"', 'success');
                } else {
                    updateTestStatus('test-mobile-menu-toggle', 'fail');
                    log('âŒ æ¼¢å ¡æŒ‰éˆ•ä¸å­˜åœ¨æˆ– type ä¸æ­£ç¢º', 'error');
                }
                
                // æ¸¬è©¦ 2: æ‡¸æµ®é¸å–®æŒ‰éˆ•
                log('æ¸¬è©¦ 2: æª¢æŸ¥æ‡¸æµ®é¸å–®æŒ‰éˆ•...', 'info');
                const floatingMenuBtn = mainWindow.document.getElementById('floatingMenuBtn');
                if (floatingMenuBtn && floatingMenuBtn.getAttribute('type') === 'button') {
                    updateTestStatus('test-floating-menu', 'pass');
                    log('âœ… æ‡¸æµ®é¸å–®æŒ‰éˆ•å­˜åœ¨ä¸” type="button"', 'success');
                } else {
                    updateTestStatus('test-floating-menu', 'fail');
                    log('âŒ æ‡¸æµ®é¸å–®æŒ‰éˆ•ä¸å­˜åœ¨æˆ– type ä¸æ­£ç¢º', 'error');
                }
                
                // æ¸¬è©¦ 3: æœå°‹æŒ‰éˆ•
                log('æ¸¬è©¦ 3: æª¢æŸ¥æœå°‹æŒ‰éˆ•...', 'info');
                const searchBtn = mainWindow.document.getElementById('searchBtn');
                if (searchBtn && searchBtn.getAttribute('type') === 'button') {
                    updateTestStatus('test-search-btn', 'pass');
                    log('âœ… æœå°‹æŒ‰éˆ•å­˜åœ¨ä¸” type="button"', 'success');
                } else {
                    updateTestStatus('test-search-btn', 'fail');
                    log('âŒ æœå°‹æŒ‰éˆ•ä¸å­˜åœ¨æˆ– type ä¸æ­£ç¢º', 'error');
                }
                
                // æ¸¬è©¦ 4: è³¼ç‰©è»Šåœ–ç¤º
                log('æ¸¬è©¦ 4: æª¢æŸ¥è³¼ç‰©è»Šåœ–ç¤º...', 'info');
                const cartIcon = mainWindow.document.getElementById('cartIcon');
                if (cartIcon) {
                    updateTestStatus('test-cart-icon', 'pass');
                    log('âœ… è³¼ç‰©è»Šåœ–ç¤ºå­˜åœ¨', 'success');
                } else {
                    updateTestStatus('test-cart-icon', 'fail');
                    log('âŒ è³¼ç‰©è»Šåœ–ç¤ºä¸å­˜åœ¨', 'error');
                }
                
                // æ¸¬è©¦ 5: æ‡¸æµ®è³¼ç‰©è»Š
                log('æ¸¬è©¦ 5: æª¢æŸ¥æ‡¸æµ®è³¼ç‰©è»Š...', 'info');
                const floatingCartBtn = mainWindow.document.getElementById('floatingCartBtn');
                if (floatingCartBtn) {
                    updateTestStatus('test-floating-cart', 'pass');
                    log('âœ… æ‡¸æµ®è³¼ç‰©è»Šå­˜åœ¨', 'success');
                } else {
                    updateTestStatus('test-floating-cart', 'fail');
                    log('âŒ æ‡¸æµ®è³¼ç‰©è»Šä¸å­˜åœ¨', 'error');
                }
                
                // æ¸¬è©¦ 6: é—œé–‰è³¼ç‰©è»Š
                log('æ¸¬è©¦ 6: æª¢æŸ¥é—œé–‰è³¼ç‰©è»ŠæŒ‰éˆ•...', 'info');
                const closeCart = mainWindow.document.getElementById('closeCart');
                if (closeCart) {
                    updateTestStatus('test-close-cart', 'pass');
                    log('âœ… é—œé–‰è³¼ç‰©è»ŠæŒ‰éˆ•å­˜åœ¨', 'success');
                } else {
                    updateTestStatus('test-close-cart', 'fail');
                    log('âŒ é—œé–‰è³¼ç‰©è»ŠæŒ‰éˆ•ä¸å­˜åœ¨', 'error');
                }
                
                // æ¸¬è©¦ 7: å‰å¾€çµå¸³æŒ‰éˆ•
                log('æ¸¬è©¦ 7: æª¢æŸ¥å‰å¾€çµå¸³æŒ‰éˆ•...', 'info');
                const checkoutBtn = mainWindow.document.getElementById('checkoutBtn');
                if (checkoutBtn) {
                    updateTestStatus('test-checkout-btn', 'pass');
                    log('âœ… å‰å¾€çµå¸³æŒ‰éˆ•å­˜åœ¨', 'success');
                } else {
                    updateTestStatus('test-checkout-btn', 'fail');
                    log('âŒ å‰å¾€çµå¸³æŒ‰éˆ•ä¸å­˜åœ¨', 'error');
                }
                
                // æ¸¬è©¦ 8: å•†å“åˆ†é¡æŒ‰éˆ•
                log('æ¸¬è©¦ 8: æª¢æŸ¥å•†å“åˆ†é¡æŒ‰éˆ•...', 'info');
                const categoryBtns = mainWindow.document.querySelectorAll('.category-btn');
                if (categoryBtns.length > 0) {
                    updateTestStatus('test-category-btns', 'pass');
                    log(`âœ… æ‰¾åˆ° ${categoryBtns.length} å€‹åˆ†é¡æŒ‰éˆ•`, 'success');
                } else {
                    updateTestStatus('test-category-btns', 'fail');
                    log('âŒ æ²’æœ‰æ‰¾åˆ°åˆ†é¡æŒ‰éˆ•', 'error');
                }
                
                // æ¸¬è©¦ 9: å•†å“è¼ªæ’­ä¸Šä¸€é 
                log('æ¸¬è©¦ 9: æª¢æŸ¥å•†å“è¼ªæ’­ä¸Šä¸€é ...', 'info');
                const productsPrev = mainWindow.document.getElementById('productsPrev');
                if (productsPrev) {
                    updateTestStatus('test-products-prev', 'pass');
                    log('âœ… å•†å“è¼ªæ’­ä¸Šä¸€é æŒ‰éˆ•å­˜åœ¨', 'success');
                } else {
                    updateTestStatus('test-products-prev', 'fail');
                    log('âŒ å•†å“è¼ªæ’­ä¸Šä¸€é æŒ‰éˆ•ä¸å­˜åœ¨', 'error');
                }
                
                // æ¸¬è©¦ 10: å•†å“è¼ªæ’­ä¸‹ä¸€é 
                log('æ¸¬è©¦ 10: æª¢æŸ¥å•†å“è¼ªæ’­ä¸‹ä¸€é ...', 'info');
                const productsNext = mainWindow.document.getElementById('productsNext');
                if (productsNext) {
                    updateTestStatus('test-products-next', 'pass');
                    log('âœ… å•†å“è¼ªæ’­ä¸‹ä¸€é æŒ‰éˆ•å­˜åœ¨', 'success');
                } else {
                    updateTestStatus('test-products-next', 'fail');
                    log('âŒ å•†å“è¼ªæ’­ä¸‹ä¸€é æŒ‰éˆ•ä¸å­˜åœ¨', 'error');
                }
                
                // æ¸¬è©¦ 11: é—œé–‰çµå¸³è¦–çª—
                log('æ¸¬è©¦ 11: æª¢æŸ¥é—œé–‰çµå¸³è¦–çª—æŒ‰éˆ•...', 'info');
                const closeCheckoutModal = mainWindow.document.getElementById('closeCheckoutModal');
                if (closeCheckoutModal) {
                    updateTestStatus('test-close-checkout-modal', 'pass');
                    log('âœ… é—œé–‰çµå¸³è¦–çª—æŒ‰éˆ•å­˜åœ¨', 'success');
                } else {
                    updateTestStatus('test-close-checkout-modal', 'fail');
                    log('âŒ é—œé–‰çµå¸³è¦–çª—æŒ‰éˆ•ä¸å­˜åœ¨', 'error');
                }
                
                // æ¸¬è©¦ 12: ç¢ºèªè¨‚å–®æŒ‰éˆ•
                log('æ¸¬è©¦ 12: æª¢æŸ¥ç¢ºèªè¨‚å–®æŒ‰éˆ•...', 'info');
                const submitOrderBtn = mainWindow.document.querySelector('.btn-submit-order');
                if (submitOrderBtn && submitOrderBtn.getAttribute('type') === 'submit') {
                    updateTestStatus('test-submit-order', 'pass');
                    log('âœ… ç¢ºèªè¨‚å–®æŒ‰éˆ•å­˜åœ¨ä¸” type="submit"', 'success');
                } else {
                    updateTestStatus('test-submit-order', 'fail');
                    log('âŒ ç¢ºèªè¨‚å–®æŒ‰éˆ•ä¸å­˜åœ¨æˆ– type ä¸æ­£ç¢º', 'error');
                }
                
                log('æ‰€æœ‰æ¸¬è©¦å®Œæˆï¼', 'success');
                
            } catch (error) {
                log(`æ¸¬è©¦éç¨‹ç™¼ç”ŸéŒ¯èª¤: ${error.message}`, 'error');
            }
        }

        function clearResults() {
            testResults = { pass: 0, fail: 0, pending: 12 };
            
            // é‡ç½®æ‰€æœ‰æ¸¬è©¦é …ç›®
            document.querySelectorAll('.test-item').forEach(item => {
                item.classList.remove('pass', 'fail');
                item.classList.add('pending');
                const statusSpan = item.querySelector('.test-status');
                statusSpan.className = 'test-status status-pending';
                statusSpan.textContent = 'å¾…æ¸¬è©¦';
            });
            
            updateSummary();
            
            // æ¸…é™¤ console
            document.getElementById('console-output').innerHTML = '<div class="console-line console-info">æº–å‚™åŸ·è¡Œæ¸¬è©¦...</div>';
            
            log('æ¸¬è©¦çµæœå·²æ¸…é™¤', 'info');
        }

        function openMainSite() {
            window.open('index.html', '_blank');
        }
    </script>
</body>
</html>
