# 柑心果園網站部署指南

## 📦 部署前準備

### 1. 檔案檢查清單

#### HTML 檔案
- ✅ index.html (首頁)
- ✅ about.html (關於我們)
- ✅ contact.html (聯絡我們)
- ✅ news.html (最新消息)
- ✅ news-detail.html (消息詳情)
- ✅ knowledge.html (蔬果知識)
- ✅ knowledge-detail.html (知識詳情)
- ✅ product-detail.html (商品詳情)
- ✅ order-tracking.html (訂單查詢)
- ✅ policies.html (客戶服務)

#### CSS 檔案
- ✅ css/style.css (主樣式表)

#### JavaScript 檔案
- ✅ js/main.js (主要功能)
- ✅ js/products.js (商品資料)
- ✅ js/cart.js (購物車)
- ✅ js/checkout.js (結帳)
- ✅ js/reviews.js (評論)
- ✅ js/policies.js (政策頁面)
- ✅ js/season-timeline.js (產季時間軸)
- ✅ js/product-gallery.js (商品圖庫)

#### 圖片檔案
- ✅ images/ (所有圖片)
- ✅ images/椪柑產品圖/ (椪柑圖片)
- ✅ images/茂谷柑產品圖/ (茂谷柑圖片)

#### 其他檔案
- ✅ robots.txt (SEO)
- ✅ sitemap.xml (網站地圖)

---

## 🚀 GitHub Pages 部署步驟

### 方法一：使用現有的批次檔

1. **確認 Git 已安裝**
   ```bash
   git --version
   ```

2. **執行上傳批次檔**
   - 雙擊 `一鍵上傳.bat`
   - 或執行 `upload-to-github.ps1`

3. **等待上傳完成**
   - 腳本會自動 add、commit、push

4. **檢查 GitHub**
   - 前往 https://github.com/GanxinOrchard/gonglaoping--
   - 確認檔案已更新

5. **啟用 GitHub Pages**
   - Settings > Pages
   - Source: Deploy from a branch
   - Branch: main / (root)
   - Save

6. **訪問網站**
   - https://ganxinorchard.github.io/gonglaoping--/

### 方法二：手動上傳

1. **初始化 Git（如果還沒有）**
   ```bash
   git init
   git remote add origin https://github.com/GanxinOrchard/gonglaoping--.git
   ```

2. **添加所有檔案**
   ```bash
   git add .
   ```

3. **提交變更**
   ```bash
   git commit -m "網站全面優化：修復 Bug、完善 RWD、優化效能"
   ```

4. **推送到 GitHub**
   ```bash
   git push -u origin main
   ```

---

## 🌐 自訂網域設定（選用）

### 1. 購買網域
- 推薦：GoDaddy、Namecheap、Google Domains

### 2. 設定 DNS
在網域商的 DNS 設定中添加：

```
類型    名稱    值
A       @       185.199.108.153
A       @       185.199.109.153
A       @       185.199.110.153
A       @       185.199.111.153
CNAME   www     ganxinorchard.github.io
```

### 3. GitHub 設定
- Settings > Pages > Custom domain
- 輸入您的網域（例如：ganxinorchard.github.io）
- Save

### 4. 等待 DNS 生效
- 通常需要 24-48 小時

---

## 📊 Google Analytics 設定

### 1. 建立 GA4 帳戶
- 前往 https://analytics.google.com
- 建立新資源

### 2. 取得追蹤代碼
- 複製 Measurement ID (G-XXXXXXXXXX)

### 3. 加入網站
在每個 HTML 的 `<head>` 中加入：

```html
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-XXXXXXXXXX');
</script>
```

---

## 🔍 Google Search Console 設定

### 1. 驗證網站擁有權
- 前往 https://search.google.com/search-console
- 新增資源
- 選擇「網址前置字元」
- 輸入網站網址

### 2. 驗證方法
選擇其中一種：
- HTML 檔案上傳
- HTML 標記
- Google Analytics
- Google Tag Manager

### 3. 提交 Sitemap
- Sitemaps > 新增 Sitemap
- 輸入：https://ganxinorchard.github.io/gonglaoping--/sitemap.xml

---

## 📧 Google Sheets 後端設定

### 1. 建立 Google Sheets
- 新增試算表：「柑心果園訂單」
- 工作表1：訂單資料
- 工作表2：聯絡表單

### 2. 設定 Apps Script
- 工具 > 指令碼編輯器
- 複製 `GAS-Backend.gs` 的內容
- 貼上並儲存

### 3. 部署為網路應用程式
- 部署 > 新增部署作業
- 類型：網路應用程式
- 執行身分：我
- 存取權：任何人
- 複製網址

### 4. 更新 JavaScript
在 `js/checkout.js` 中更新：
```javascript
const GOOGLE_SCRIPT_URL = '您的 Apps Script 網址';
```

---

## 🔒 安全性設定

### 1. HTTPS 強制
- GitHub Pages 自動提供 HTTPS
- 確保「Enforce HTTPS」已勾選

### 2. 內容安全政策（CSP）
在 HTML 的 `<head>` 中加入：
```html
<meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com https://www.googletagmanager.com; style-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com; img-src 'self' data: https:; font-src 'self' https://cdnjs.cloudflare.com;">
```

### 3. 防止點擊劫持
```html
<meta http-equiv="X-Frame-Options" content="SAMEORIGIN">
```

---

## ⚡ 效能優化

### 1. 圖片優化
- 使用 TinyPNG 壓縮圖片
- 轉換為 WebP 格式
- 實施延遲載入

### 2. CSS/JS 壓縮
- 使用 CSS Minifier
- 使用 JavaScript Minifier

### 3. CDN 加速
- 使用 Cloudflare CDN
- 或 jsDelivr

### 4. 快取設定
在 `.htaccess` 或 `_headers` 中：
```
/*
  Cache-Control: public, max-age=31536000
```

---

## 📱 社群媒體整合

### Facebook
```html
<!-- Open Graph -->
<meta property="og:title" content="柑心果園 - 優質農產品直銷平台">
<meta property="og:description" content="新鮮優質的台灣在地農產品，產地直送">
<meta property="og:image" content="https://ganxinorchard.github.io/gonglaoping--/images/柑心果園LOGO.png">
<meta property="og:url" content="https://ganxinorchard.github.io/gonglaoping--/">
```

### Twitter
```html
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="柑心果園">
<meta name="twitter:description" content="新鮮優質的台灣在地農產品">
<meta name="twitter:image" content="https://ganxinorchard.github.io/gonglaoping--/images/柑心果園LOGO.png">
```

---

## 🧪 上線前檢查

- [ ] 所有連結都有效
- [ ] 圖片都能正常載入
- [ ] 手機版顯示正常
- [ ] 購物車功能正常
- [ ] 表單提交正常
- [ ] Google Analytics 運作
- [ ] Sitemap 已提交
- [ ] robots.txt 正確
- [ ] HTTPS 已啟用
- [ ] 跨瀏覽器測試通過

---

## 📈 上線後監控

### 每日檢查
- [ ] 網站可正常訪問
- [ ] 無 JavaScript 錯誤
- [ ] 訂單資料正常接收

### 每週檢查
- [ ] Google Analytics 數據
- [ ] Search Console 錯誤
- [ ] 網站速度測試

### 每月檢查
- [ ] 更新內容
- [ ] 檢查斷連結
- [ ] 備份資料

---

## 🆘 常見問題

### Q1: 網站更新後沒有變化？
**A:** 清除瀏覽器快取，或使用無痕模式測試。

### Q2: 圖片無法顯示？
**A:** 檢查圖片路徑是否正確，確認檔案已上傳。

### Q3: 手機版選單無法開啟？
**A:** 確認 main.js 已正確載入，檢查 Console 是否有錯誤。

### Q4: 訂單無法提交？
**A:** 檢查 Google Apps Script 網址是否正確，確認權限設定。

### Q5: GitHub Pages 顯示 404？
**A:** 確認 Settings > Pages 已啟用，分支選擇正確。

---

## 📞 技術支援

如需協助，請聯絡：
- 電話：0933-721-978
- Email：s9000721@gmail.com
- 服務時間：週一至週五 12:00-18:00

---

## 🎉 部署完成！

恭喜！您的網站已成功部署。

**網站網址：** https://ganxinorchard.github.io/gonglaoping--/

記得定期更新內容，保持網站活躍度，提升 SEO 排名！
